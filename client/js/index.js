import API from"./API.js";import mapZone from"./mapZone.js";import line from"./line.js";import $ from"../lib/jquery/jquery.min.js";import"../css/style.css";(async()=>{const a="#d32f2f";try{let b=0,c=0,d=await API.get("countries"),e=[];d.data.forEach(d=>{if(0!=d.coordinates.latitude&&0!=d.coordinates.longitude){let f=d.latest_data.deaths,g="";g=1>=f?"#e57373":5>f?"#f44336":10>f?a:"#7f0000";let h={title:d.name,latitude:d.coordinates.latitude,longitude:d.coordinates.longitude,color:g};b+=d.latest_data.confirmed,c+=f,e.push(h)}}),$("#confirmes").text(b),$("#morts").text(c),mapZone(e);let f=await API.get("timeline");console.log("main.js -> 41: dataTimeline",f);let g=[];f.data.forEach(b=>{g.push({date:new Date(b.date),value:b.deaths,lineColor:a})}),line(g)}catch(a){console.log("main.js -> 7: e",a)}})();